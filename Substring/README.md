# 子串 / 子数组类题型总结 🌈📏

子串或子数组类问题在 LeetCode Hot 100 中频繁出现，常配合 **哈希表、滑动窗口、前缀和、双指针** 等技巧考查时间与空间复杂度优化能力。

本节总结以下经典子串/子数组类问题：

- [1. 和为 K 的子数组 (Subarray Sum Equals K)](subarray-sum-equals-k.py)
- [2. 滑动窗口最大值 (Sliding Window Maximum)](sliding-window-maximum.py)
- [3. 最小覆盖子串 (Minimum Window Substring)](minimum-window-substring.py)

---

## 1. 和为 K 的子数组

> LeetCode #560 - Medium  
> 题目链接：https://leetcode.com/problems/subarray-sum-equals-k/

### ✅ 思路

核心思想是利用前缀和 + 哈希表。

如果某段子数组的和为 `k`，那么一定存在下标 `j < i` 使得：

prefixSum[i] - prefixSum[j] = k
=> prefixSum[j] = prefixSum[i] - k   


我们用哈希表 `cnt` 记录前缀和出现的次数，遍历数组时统计符合条件的前缀和个数。

### 🚀 解法步骤

1. 初始化：
   - `cnt = defaultdict(int)`，并设置 `cnt[0] = 1` 以处理前缀刚好等于 `k` 的情况
   - 前缀和变量 `s = 0`
2. 遍历 `nums`：
   - 累加前缀和：`s += num`
   - 查找 `cnt[s - k]` 是否存在，加入结果
   - 更新 `cnt[s]` 出现次数
3. 返回最终统计结果

### ⏱️ 时间复杂度

- 时间：O(n)
- 空间：O(n)

### 🧠 关键点

- 前缀和公式转化为查找问题
- 哈希表存储历史前缀和次数，支持快速统计

---

## 2. 滑动窗口最大值

> LeetCode #239 - Hard  
> 题目链接：https://leetcode.com/problems/sliding-window-maximum/

### ✅ 思路

本题用 **单调队列（单调递减）** 来维护滑动窗口内的最大值：

- 队列中存放的是索引，保持队头是当前窗口的最大值
- 每次滑动窗口时：
  - 将小于当前值的索引从队尾弹出
  - 将新索引加入队尾
  - 若队头索引已滑出窗口，则弹出队头
  - 将队头对应的值加入结果

### 🚀 解法步骤

1. 遍历前 k 个元素，初始化队列
2. 从第 k 个元素开始滑动窗口：
   - 移除队尾小于当前元素的索引
   - 判断队头是否过期
   - 队头对应的元素即为当前窗口最大值
3. 收集结果并返回

### ⏱️ 时间复杂度

- 时间：O(n) — 每个元素最多进出队列一次
- 空间：O(k)

### 🧠 关键点

- 单调队列维护的是“候选最大值”
- 队列中存索引，便于判断是否过期

---

## 3. 最小覆盖子串

> LeetCode #76 - Hard  
> 题目链接：https://leetcode.com/problems/minimum-window-substring/

### ✅ 思路

采用经典 **滑动窗口 + 双指针** 策略，结合两个哈希表：

- `ht`：记录字符串 `t` 中每个字符所需出现的次数
- `hs`：当前窗口内每个字符的出现次数

### 🚀 解法步骤

1. 初始化两个哈希表：`ht`（目标），`hs`（窗口）
2. 右指针扩展窗口，不断将字符加入 `hs`：
   - 如果加入的字符频率未超过目标，`cnt += 1`
3. 当窗口满足 `cnt == len(t)` 后：
   - 左指针开始收缩窗口，直到某一字符的频率少于所需（失效）
   - 在此过程中更新最小窗口
4. 重复上述步骤直到右指针到末尾

### ⏱️ 时间复杂度

- 时间：O(n + m)（n 为 `s` 长度，m 为 `t` 长度）
- 空间：O(256) 或 O(|charset|)

### 🧠 关键点

- 滑动窗口右扩找合法解，左缩找最优解
- 使用哈希表记录目标频率与窗口频率

---

## 🧠 总结技巧

| 技巧 / 模板               | 应用题例 |
|--------------------------|---------|
| 前缀和 + 哈希表           | Subarray Sum Equals K |
| 滑动窗口 + 单调队列       | Sliding Window Maximum |
| 滑动窗口 + 双指针 + 频率表 | Minimum Window Substring |
| 区间查找最值 / 频率控制    | 通常通过滑窗 + hash / heap 实现 |
| 哈希表计数 + 滑窗最小化    | 典型子串最短覆盖类题目 |

---

👉 更多字符串与子串类问题后续持续补充，例如：

- 无重复字符的最长子串
- 至多包含 K 个不同字符的最长子串
- 字符串中找所有异位词
- K 个不同字符的子串数量

